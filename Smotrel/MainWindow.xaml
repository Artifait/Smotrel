<Window x:Class="Smotrel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Smotrel" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        MouseMove="Window_MouseMove"
        MouseLeave="Window_MouseLeave">
    <Grid>
        <!-- Основная сетка: две колонки -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <!-- Видео + контент -->
            <ColumnDefinition Width="Auto" />
            <!-- Скрытая панель -->
        </Grid.ColumnDefinitions>

        <!-- 1) Видео и контролы в первой колонке -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <MediaElement x:Name="mediaElement"
                          Grid.Row="0"
                          LoadedBehavior="Manual"
                          UnloadedBehavior="Stop"
                          Stretch="Uniform"
                          MediaEnded="MediaElement_MediaEnded" />

            <TextBlock x:Name="remainingTimeText"
           Foreground="White"
           Margin="10"
           FontSize="12"
           HorizontalAlignment="Center"
           Text="Осталось: 0:00:00"/>
            
            <Slider x:Name="videoSlider"
                    Grid.Row="1"
                    Margin="10"
                    Minimum="0"
                    Maximum="100"
                    ValueChanged="videoSlider_ValueChanged"
                    PreviewMouseDown="Slider_PreviewMouseDown"
                    PreviewMouseUp="Slider_PreviewMouseUp" />

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <Button Content="◀ Назад" Click="BtnPrev_Click" Margin="5" Padding="10,5" />
                <Button Content="⏸ Пауза/▶" Click="BtnPausePlay_Click" Margin="5" Padding="10,5" />
                <Button Content="⏩ Ускорить" Click="BtnSpeedUp_Click" Margin="5" Padding="10,5" />
                <Button Content="⏪ Норм. скорость" Click="BtnNormalSpeed_Click" Margin="5" Padding="10,5" />
                <Button Content="⛶ Экран" Click="BtnFullscreen_Click" Margin="5" Padding="10,5" />
                <Button Content="Выбрать папку" Click="BtnChooseFolder_Click" Margin="5" Padding="10,5"/>
                <Button Content="Вперёд ▶" Click="BtnNext_Click" Margin="5" Padding="10,5" />
            </StackPanel>
        </Grid>

        <!-- 2) Скрытая панель со списком — во второй колонке -->
        <Border x:Name="listPanel"
                Grid.Column="1"
                Background="#DDFFFFFF"
                Width="0"
                HorizontalAlignment="Right"
                BorderBrush="#888"
                BorderThickness="1">
            <ListBox x:Name="videoListBox"
                     ItemsSource="{Binding videoFiles, RelativeSource={RelativeSource AncestorType=Window}}"
                     SelectedIndex="{Binding currentIndex, RelativeSource={RelativeSource AncestorType=Window}, Mode=TwoWay}"
                     SelectionChanged="videoListBox_SelectionChanged"
                     />
        </Border>
    </Grid>
</Window>